# Image
image:
  repository: vfabi/open-ports-scanner
  tag: "1.4.0"
  pullPolicy: IfNotPresent

# CronJob
cronjob:
  # Schedule in cron format (default: every 6 hours)
  schedule: "0 */6 * * *"
  # Concurrency policy: Allow, Forbid, or Replace
  concurrencyPolicy: Forbid
  # Number of successful finished jobs to retain
  successfulJobsHistoryLimit: 3
  # Number of failed finished jobs to retain
  failedJobsHistoryLimit: 1
  # Restart policy for the job pods
  restartPolicy: OnFailure

# Configuration
config:
  # Comma-separated list of IP addresses to scan
  nmapTargets: "#PLACEHOLDER:nmapTargets#"
  # Comma-separated list of ports to scan
  nmapPorts: "#PLACEHOLDER:nmapPorts#"
  # Send open ports report to Telegram
  sendReportOpenPortsTelegram: "#PLACEHOLDER:sendReportOpenPortsTelegram#"  
  # Send new open ports report to Telegram
  sendReportNewOpenPortsTelegram: "#PLACEHOLDER:sendReportNewOpenPortsTelegram#"

# Secrets
secrets:
  # Telegram bot token to send reports. Mandatory if sendReportOpenPortsTelegram or sendReportNewOpenPortsTelegram is "true"
  telegramBotToken: "#PLACEHOLDER:telegramBotToken#"
  # Telegram chat ID to send open ports report. Mandatory if sendReportOpenPortsTelegram is "true"
  telegramChatIdOpenPortsReport: "#PLACEHOLDER:telegramChatIdOpenPortsReport#"
  # Telegram chat ID to send new open ports report. Mandatory if sendReportNewOpenPortsTelegram is "true"
  telegramChatIdNewOpenPortsReport: "#PLACEHOLDER:telegramChatIdNewOpenPortsReport#"

# Resources
resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "256Mi"
    cpu: "500m"

# Persistent volume
persistence:
  enabled: true
  # Storage class name (leave empty for default)
  storageClassName: ""
  # Access mode
  accessMode: ReadWriteOnce
  # Storage size
  size: 1Gi
  # Mount path in the container
  mountPath: /app/data
